{"version":3,"sources":["services/people.js","App.js","index.js"],"names":["baseUrl","axios","get","then","response","data","newObject","post","id","put","delete","Filter","filter","handleFilter","type","value","onChange","e","target","PersonForm","newName","newPhone","handleName","handlePhone","addPhone","onClick","Persons","persons","removePerson","map","p","name","number","Notification","notification","className","message","App","useState","setPersons","setNewName","setNewPhone","setFilter","setMessage","useEffect","personService","initialNotes","withNotify","setTimeout","length","toLowerCase","includes","preventDefault","exist","find","newPerson","window","confirm","personUpdated","person","catch","err","alert","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.cb30bb60.chunk.js","sourcesContent":["import axios from 'axios';\n\nconst baseUrl = '/api/persons';\n\nconst getAll = () => {\n\tconst request = axios.get(baseUrl);\n\treturn request.then(response => response.data);\n};\n\nconst create = newObject => {\n\tconst request = axios.post(baseUrl, newObject);\n\treturn request.then(response => response.data);\n};\n\nconst update = (id, newObject) => {\n\tconst request = axios.put(`${baseUrl}/${id}`, newObject);\n\treturn request.then(response => response.data);\n};\n\nconst drop = id => {\n\tconst request = axios.delete(`${baseUrl}/${id}`);\n\treturn request.then(response => response.data);\n};\n\nexport default {getAll, create, update, drop};\n","import React, {useState} from 'react';\nimport {useEffect} from 'react';\nimport personService from './services/people';\n\nconst Filter = ({filter, handleFilter}) => {\n\treturn (\n\t\t<div>\n\t\t\tfilter shown with <input type='text' value={filter} onChange={e => handleFilter(e.target.value)} />\n\t\t</div>\n\t);\n};\n\nconst PersonForm = ({newName, newPhone, handleName, handlePhone, addPhone}) => {\n\treturn (\n\t\t<form>\n\t\t\t<div>\n\t\t\t\tname: <input value={newName} onChange={e => handleName(e.target.value)} />\n\t\t\t</div>\n\t\t\t<div>\n\t\t\t\tnumber: <input value={newPhone} onChange={e => handlePhone(e.target.value)} />\n\t\t\t</div>\n\t\t\t<div>\n\t\t\t\t<button type='submit' onClick={addPhone}>\n\t\t\t\t\tadd\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t</form>\n\t);\n};\n\nconst Persons = ({persons, removePerson}) => {\n\treturn (\n\t\t<>\n\t\t\t{persons.map(p => (\n\t\t\t\t<div key={p.name}>\n\t\t\t\t\t{p.name} {p.number} <button onClick={() => removePerson(p)}>delete</button>\n\t\t\t\t</div>\n\t\t\t))}\n\t\t</>\n\t);\n};\nconst Notification = ({notification}) => {\n\tif (notification == null) {\n\t\treturn null;\n\t}\n\treturn <div className={notification.type}>{notification.message}</div>;\n};\n\nconst App = () => {\n\tconst [persons, setPersons] = useState([]);\n\tconst [newName, setNewName] = useState('');\n\tconst [newPhone, setNewPhone] = useState('');\n\tconst [filter, setFilter] = useState('');\n\tconst [message, setMessage] = useState(null);\n\t\n\n\tuseEffect(() => {\n\t\tpersonService.getAll().then(initialNotes => {\n\t\t\tsetPersons(initialNotes);\n\t\t});\n\t}, []);\n\n\n\tconst  withNotify = ( message, type = \"info\") => {\n\t\tsetMessage({ message, type })\n\t\tsetTimeout(() => {\n\t\t\tsetMessage(null)\n\t\t}, 3000);\n\t}\n\t\n\tconst removePerson = ({id, name}) => {\n\t\tif (window.confirm(`Delete ${name} ?`)) {\n\t\t\tpersonService.drop(id).then(() => {\n\t\t\t\tsetPersons(persons.filter(person => person.id !== id));\n\t\t\t});\n\t\t}\n\t};\n\n\tconst addPhone = e => {\n\t\te.preventDefault();\n\t\tconst exist = persons.find(p => p.name === newName);\n\t\tif (!exist) {\n\t\t\tconst newPerson = {\n\t\t\t\tname: newName,\n\t\t\t\tnumber: newPhone,\n\t\t\t};\n\t\t\tpersonService.create(newPerson).then(person => {\n\t\t\t\tsetPersons([...persons, person]);\n\t\t\t\tsetNewName('');\n\t\t\t\tsetNewPhone('');\n\t\t\t});\n\t\t\twithNotify(`Added ${newName}`)\n\t\t} else {\n\t\t\tif (newPhone !== exist.number) {\n\t\t\t\tconst newPerson = {\n\t\t\t\t\t...exist,\n\t\t\t\t\tnumber: newPhone,\n\t\t\t\t};\n\t\t\t\tif (window.confirm(`${exist.name} is already added to phonebook, replace the old number with a new one?`)) {\n\t\t\t\t\tpersonService\n\t\t\t\t\t\t.update(exist.id, newPerson)\n\t\t\t\t\t\t.then(personUpdated => {\n\t\t\t\t\t\t\tsetPersons(persons.map(person => (person.id === exist.id ? personUpdated : person)));\n\t\t\t\t\t\t\tsetNewPhone('');\n\t\t\t\t\t\t\tsetNewName('');\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.catch(err => {\n\t\t\t\t\t\t\twithNotify(`Information of ${exist.name} has already been removed from server`,\"error\")\n\t\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\talert(`${newName} is already added to phonebook`);\n\t\t\t}\n\t\t}\n\t};\n\n\tconst data = filter.length > 0 ? persons.filter(p => p.name.toLowerCase().includes(filter.toLowerCase())) : persons;\n\treturn (\n\t\t<div>\n\t\t\t<h2>Phonebook</h2>\n\t\t\t<Notification notification={message}/>\n\t\t\t<Filter filter={filter} handleFilter={e => setFilter(e)} />\n\t\t\t<PersonForm newName={newName} newPhone={newPhone} addPhone={addPhone} handleName={e => setNewName(e)} handlePhone={e => setNewPhone(e)} />\n\t\t\t<h2>Numbers</h2>\n\t\t\t<Persons persons={data} removePerson={person => removePerson(person)} />\n\t\t</div>\n\t);\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css'\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}